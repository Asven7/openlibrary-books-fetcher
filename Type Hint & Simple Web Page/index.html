<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Open Library Book Search</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(to right, #1e3c72, #2a5298);
  margin: 0;
  padding: 40px;
  color: white;
  text-align: center;
}

h1 {
  margin-bottom: 20px;
}

.search-box {
  margin-bottom: 30px;
}

input {
  padding: 12px;
  width: 260px;
  border-radius: 6px;
  border: none;
  font-size: 16px;
}

button {
  padding: 12px 18px;
  border-radius: 6px;
  border: none;
  background: #ff9800;
  color: white;
  font-size: 16px;
  cursor: pointer;
  margin-left: 5px;
  transition: 0.3s;
}

button:hover {
  background: #e68900;
}

button:disabled {
  background: #999;
  cursor: not-allowed;
}

#results {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 20px;
  max-width: 1000px;
  margin: auto;
}

.card {
  background: white;
  color: black;
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: transform 0.2s ease;
}

.card:hover {
  transform: translateY(-5px);
}

.card img {
  width: 100%;
  height: 280px;
  object-fit: cover;
  border-radius: 6px;
}

.message {
  margin-top: 20px;
  font-size: 18px;
}
</style>
</head>

<body>

<h1>ðŸ“š Book Finder</h1>

<div class="search-box">
  <input type="text" id="searchInput" placeholder="Enter book name...">
  <button id="searchBtn">Search</button>
</div>

<div id="message" class="message"></div>
<div id="results"></div>

<script>
const input = document.getElementById("searchInput");
const button = document.getElementById("searchBtn");
const resultsDiv = document.getElementById("results");
const messageDiv = document.getElementById("message");

button.addEventListener("click", searchBook);
input.addEventListener("keypress", function(e) {
  if (e.key === "Enter") searchBook();
});

async function searchBook() {

  const query = input.value.trim();

  if (!query) {
    messageDiv.textContent = "âš  Please enter a book name.";
    return;
  }

  resultsDiv.innerHTML = "";
  messageDiv.textContent = "ðŸ”„ Searching...";
  button.disabled = true;

  try {

    const response = await fetch(
      "https://openlibrary.org/search.json?q=" + encodeURIComponent(query)
    );

    if (!response.ok) {
      throw new Error("Network response was not ok");
    }

    const data = await response.json();

    messageDiv.textContent = "";
    resultsDiv.innerHTML = "";

    if (!data.docs || data.docs.length === 0) {
      messageDiv.textContent = "âŒ No results found.";
      return;
    }

    data.docs.slice(0, 12).forEach(book => {

      const card = document.createElement("div");
      card.className = "card";

      const img = document.createElement("img");

      if (book.cover_i) {
        img.src = "https://covers.openlibrary.org/b/id/" + book.cover_i + "-M.jpg";
      } else {
        img.src = "https://via.placeholder.com/200x300?text=No+Cover";
      }

      const title = document.createElement("h4");
      title.textContent = book.title;

      const author = document.createElement("p");
      author.textContent = book.author_name
        ? book.author_name[0]
        : "Unknown Author";

      card.appendChild(img);
      card.appendChild(title);
      card.appendChild(author);

      resultsDiv.appendChild(card);
    });

  } catch (error) {
    messageDiv.textContent = "âš  Error fetching data.";
    console.error(error);
  } finally {
    button.disabled = false;
  }
}
</script>

</body>
</html>